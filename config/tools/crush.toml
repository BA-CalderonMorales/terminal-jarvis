# =============================================================================
# CRUSH - Charm's multi-model AI coding assistant
# =============================================================================
# Single Responsibility: Manages Crush tool configuration and settings

[tool]
display_name = "Crush"
config_key = "crush"
description = "Charm's multi-model AI assistant with LSP"
homepage = "https://charm.sh/crush"
documentation = "https://github.com/charmbracelet/crush"
cli_command = "crush"
requires_npm = true
requires_sudo = false
status = "new"

[tool.install]
command = "npm"
args = ["install", "-g", "@charmland/crush"]
verify_command = "crush --version"
post_install_message = "Crush installed successfully! Set CHARM_API_KEY to get started."

[tool.update]
command = "npm"
args = ["update", "-g", "@charmland/crush"]
verify_command = "crush --version"

[tool.auth]
env_vars = ["ANTHROPIC_API_KEY", "OPENAI_API_KEY", "CHARM_API_KEY"]
setup_url = "https://charm.sh/account"
browser_auth = false
auth_instructions = "Set an API key for your preferred provider, or run 'crush login'"
auth_mode = "any"
cli_auth_command = "crush login"
providers = [
    {name = "Anthropic", env_var = "ANTHROPIC_API_KEY", key_hint = "sk-ant-*", setup_url = "https://console.anthropic.com/"},
    {name = "OpenAI", env_var = "OPENAI_API_KEY", key_hint = "sk-*", setup_url = "https://platform.openai.com/api-keys"},
    {name = "Charm", env_var = "CHARM_API_KEY", setup_url = "https://charm.sh/account"},
]

[tool.features]
supports_files = true
supports_streaming = true
supports_conversation = true
max_context_tokens = 64000
supported_languages = [
    "python",
    "javascript",
    "rust",
    "go",
    "java",
    "cpp",
    "typescript",
    "lua",
]
lsp_integration = true
charm_ecosystem = true
new_tool = true
